<!DOCTYPE html>
<html>
<head>
<style>
  .gauge {
    overflow: hidden;
    width: 200px;
    height: 200px;
    background-color: #f0f0f0;
    border-radius: 50%;
    position: relative;
  }

  .gauge-needle {
    width: 2px;
    height: 90px;
    background-color: red;
    position: absolute;
    top: 0%;
    left: 50%;
    transform-origin: 50% 100%;
    transform: translateX(-1px) rotate(-88deg);
    transition: transform 0.5s ease-in-out;
  }

  .gauge-fill {
    width: 0; /* Initial width is 0, it will fill as the needle angle increases */
    height: 50%;
    background-color: rgba(0, 128, 0, 0.5); /* Transparent green color (50% opacity) */
    position: absolute;
    top: 0; /* Position at the top of the gauge */
    left: 0;
    transform-origin: 0% 50%; /* Pivot at the left-center */
    transition: width 0.5s ease-in-out; /* Transition the width property */
  }
</style>
</head>
<body>
<div class="gauge">
  <div class="gauge-needle"></div>
  <div class="gauge-fill"></div>
</div>
<input type="range" min="0" max="100" value="0" id="gauge-slider">

<script>
const gaugeFill = document.querySelector('.gauge-fill');
const gaugeNeedle = document.querySelector('.gauge-needle');
const slider = document.getElementById('gauge-slider');

function updateGauge(value) {
  const angle = ((value / 100) * 180) - 88;
  gaugeNeedle.style.transform = `translateX(-50%) rotate(${angle}deg)`;
  gaugeFill.style.width = `${value}%`; // Set the width of the gauge-fill based on the value
}

slider.addEventListener('input', (event) => {
  const value = event.target.value;
  updateGauge(value);
});

// Example usage:
// You can also call updateGauge(value) programmatically to change the needle angle and fill the gauge accordingly.
</script>
</body>
</html>
